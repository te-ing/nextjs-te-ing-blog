---
title: ì›¹ë·° ì›¹-ì•± ì¸í„°í˜ì´ìŠ¤ ê³¼ì • ì‰½ê²Œ ì´í•´í•˜ê¸°
description: ì›¹ë·°ë¥¼ ê°œë°œí•  ë•Œ ì–´ë–»ê²Œ ì•±ì— ì ‘ê·¼í•  ìˆ˜ ìˆì„ê¹Œìš”? ì›¹-ì•± ì¸í„°í˜ì´ìŠ¤ ê³¼ì •ì„ ìƒí™©ê³¼ ì½”ë“œë¥¼ í†µí•´ ì•Œê¸° ì‰½ê²Œ ì„¤ëª…í•©ë‹ˆë‹¤.
tags: [ì›¹ë·°, ReactNative]
---

> ì´ ê¸€ì€ ì›¹-ì•± ì¸í„°í˜ì´ìŠ¤ì— ìµìˆ™í•˜ì§€ ì•Šì€ ë¦¬ì•¡íŠ¸ ê°œë°œìë¥¼ ëŒ€ìƒìœ¼ë¡œ í•˜ë©°, ì´í•´ë¥¼ ë•ê¸° ìœ„í•´ ê°„ì†Œí™”ëœ ì˜ˆì œ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì‹¤ì œ ì‚¬ìš© í™˜ê²½ì—ì„œëŠ” ì¼ë°˜ì ìœ¼ë¡œ ë” ë³µì¡í•œ ë¡œì§ê³¼ ì¶”ìƒí™”ê°€ ì ìš©ë˜ë¯€ë¡œ, ë³¸ ê¸€ì€ ì‹¤ì œ ì½”ë“œ êµ¬í˜„ ì „ì— ì›¹-ì•± ì¸í„°í˜ì´ìŠ¤ì˜ íë¦„ì„ ì´í•´í•˜ëŠ” ë° ì°¸ê³ ìš©ìœ¼ë¡œ ì½ì–´ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.

ì›¹ë·°ë¥¼ ê°œë°œí•˜ë‹¤ë³´ë©´ ì›¹ë·°ë¥¼ ì‚¬ìš©í•  ë•Œ ì•±ê³¼ í†µì‹ (ì¸í„°í˜ì´ìŠ¤)ì„ í•´ì•¼ í•  í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤. ì´ì œ ì„œë²„ì™€ í†µì‹ ì„ í•˜ëŠ” ë°©ë²•ì€ ìµìˆ™í•œë°, ì•±ê³¼ëŠ” ë„ëŒ€ì²´ ì–´ë–»ê²Œ í†µì‹ í•˜ëŠ” ê±¸ê¹Œìš”?

ì›¹ë·°ì—ì„œì˜ ì›¹-ì•± ì¸í„°í˜ì´ìŠ¤ ê³¼ì •ì„ ì´í•´í•  ë•Œ, `window.navigator.appVersion` í˜¹ì€ ì„œë²„-í´ë¼ì´ì–¸íŠ¸ì™€ ê°™ì€ ê³¼ì •ì„ ìƒê°í•˜ì‹ ë‹¤ë©´ ì½”ë“œê°€ ë§¤ìš° ê¹Œë‹¤ë¡œì›Œ ë³´ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. `window.navigator.appVersion` ì²˜ëŸ¼ `app.navigator.appVersion` ê°™ì´ ì•±ì˜ ì •ë³´ë¥¼ ì§ì ‘ ê°€ì ¸ì˜¤ë©´ ì¢‹ì„í…ë° ë§ì´ì£ .

ì´ì œ `axios`, `fetch` ì™€ ê°™ì€ ì¸í„°í˜ì´ìŠ¤ ë°©ì‹ì€ ì ê¹ ìŠê³ , ì›¹-ì•± í†µì‹ ì€ ì–´ë–»ê²Œ í•´ì•¼ í•˜ëŠ”ì§€ ì²œì²œíˆ ì•Œì•„ë³´ë„ë¡ í•©ì‹œë‹¤.

# ë‹¨ë°©í–¥ êµ¬ì¡°ì˜ ì›¹-ì•± ì¸í„°í˜ì´ìŠ¤

ì¼ë‹¨ ì›¹-ì•± ì¸í„°í˜ì´ìŠ¤ëŠ” ì •í•´ì§„ ì´ë²¤íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤. ì‰½ê²Œ ë§í•˜ë©´ ì›¹ë·°ì—ì„œ ì•±ì˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë“±ì˜ ê°„ë‹¨í•œ ì´ë²¤íŠ¸ì¡°ì°¨ ì§ì ‘ êµ¬í˜„í•´ì•¼ í•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ë”°ë¼ì„œ ìƒí˜¸ê°„ì˜ í˜‘ì˜ì— ë”°ë¼ ì–´ë–¤ ë©”ì‹œì§€ë¥¼ ë°›ìœ¼ë©´ ì–´ë–¤ ë™ì‘ì„ í•  ì§€ ì‚¬ì „ì— ì¤€ë¹„ê°€ í•„ìš”í•©ë‹ˆë‹¤.

ë˜í•œ ì›¹-ì•± ì¸í„°í˜ì´ìŠ¤ ê³¼ì •ì„ ì´í•´í•˜ë ¤ë©´ í•µì‹¬ì ì¸ í‚¤ì›Œë“œê°€ ìˆìŠµë‹ˆë‹¤. ë°”ë¡œ WebViewëŠ” ë³¸ì§ˆì ìœ¼ë¡œ **ì´ë²¤íŠ¸ ê¸°ë°˜ì˜ ë‹¨ë°©í–¥ í†µì‹  êµ¬ì¡°**ë¥¼ ê°€ì§€ê³  ìˆë‹¤ëŠ” ê²ƒì¸ë°ìš”.

fetchë¡œ ê°’ì„ ìš”ì²­í•˜ê³  dataë¡œ ì‘ë‹µì´ ì˜¤ë©´ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì‘ë‹µê°’ì„ ì²˜ë¦¬í•˜ëŠ” ì„œë²„-í´ë¼ì´ì–¸íŠ¸ ì¸í„°í˜ì´ìŠ¤ì™€ ë‹¬ë¦¬, ì›¹ë·°ëŠ” ì›¹ì—ì„œ ì•±ìœ¼ë¡œ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ë©´ ëì…ë‹ˆë‹¤. ë°˜ëŒ€ë¡œ ì•±ì—ì„œë„ ì›¹ìœ¼ë¡œ ë©”ì‹œì§€ë¥¼ ì „ë‹¬í•˜ëŠ” ê²ƒìœ¼ë¡œ ì¸í„°í˜ì´ìŠ¤ê°€ ëë‚˜ê²Œ ë©ë‹ˆë‹¤. ë•Œë¬¸ì— ìš”ì²­ í›„ ì‘ë‹µì„ ë‹¤ì‹œ ë°›ê³  ì‹¶ë‹¤ë©´, ì›¹ì´ë‚˜ ì•±ì—ì„œ í•´ë‹¹ ìš”ì²­ì„ ë°›ê²Œ ë˜ë©´ ë‹¤ì‹œ ë°ì´í„°ë¥¼ ë³´ë‚´ë„ë¡ ì¤€ë¹„ë¥¼ í•´ë‘ì–´ì•¼ í•©ë‹ˆë‹¤.

## ì˜ˆì‹œ1. ì›¹ë·°ì—ì„œ ì•± ì„¤ì •ì°½ ì—´ê¸°

ì›¹ë·°ì—ì„œ ì•±ì˜ ì„¤ì •ì°½ì„ ì—´ì–´ì•¼ í•œë‹¤ê³  ìƒê°í•´ë´…ì‹œë‹¤. `window.open('app-setting')`ê³¼ ê°™ì´ í•˜ë©´ ì¢‹ê² ì§€ë§Œ, ì›¹ê³¼ ì•±ì€ ë…ë¦½ëœ í™˜ê²½ì—ì„œ ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì— ì•±ì— ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë˜í•œ ì•ì„œ ë§í–ˆë“¯ ì •í•´ì§„ ì´ë²¤íŠ¸ê°€ êµ¬í˜„ë˜ì–´ ìˆì§€ ì•Šìœ¼ë¯€ë¡œ ì•±ì—ì„œ ì„¤ì •ì°½ì„ ì—¬ëŠ” ë¡œì§ì„ êµ¬í˜„í•˜ê³ , íŠ¹ì • ë©”ì‹œì§€ê°€ ì˜¤ë©´ í•´ë‹¹ ë¡œì§ì„ ì‹¤í–‰í•˜ë„ë¡ í•´ì•¼í•©ë‹ˆë‹¤.

```jsx
// React Native ê¸°ì¤€
import { Linking, Platform } from 'react-native';

const MyWebView = () => {
  const onMessage = (event) => {
    try {
      const data = JSON.parse(event.nativeEvent.data);
      if (data.type === 'OPEN_SETTINGS') {
        Linking.openURL('app-settings:');
      }
  };
```

ì•±ì—ì„œ ì„¤ì •ì°½ì„ ì—´ ì¤€ë¹„ë¥¼ ë§ˆì¹˜ê³  ë¹Œë“œë¥¼ ì™„ë£Œí–ˆë‹¤ë©´, ì›¹ë·°ì—ì„œëŠ” `data.type === OEPN_SETTINGS` ë¥¼ ë‹´ì€ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ì£¼ë©´ ë©ë‹ˆë‹¤. ì´ë•Œ, string í˜•ì‹ìœ¼ë¡œë°–ì— ê°’ì„ ì „ë‹¬í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— JSON.stringifyë¥¼ ì‚¬ìš©í•˜ë©°, ë¦¬ì•¡íŠ¸ ë„¤ì´í‹°ë¸Œì—ì„œë„ `JSON.parse`ì™€ ê°™ì€ ë¡œì§ì„ ê±°ì¹©ë‹ˆë‹¤.

```jsx
function openAppSettings() {
  // iOSìš©
  if (window.webkit?.messageHandlers?.ReactNativeWebView) {
    window.webkit.messageHandlers.ReactNativeWebView.postMessage(
      JSON.stringify({ type: 'OPEN_SETTINGS' })
    );
  }
}
```

ì¶•í•˜í•©ë‹ˆë‹¤ğŸ‰ ì´ì œ ì›¹ë·°ì—ì„œë„ ì•±ì˜ ì„¤ì •ì°½ì„ ì—´ ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. `openAppSettings()` í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ë©´ ì•±ì˜ ì„¤ì •ì°½ì´ ì—´ë¦¬ê²Œ ë©ë‹ˆë‹¤.

## ì˜ˆì‹œ2. ìŠ¤ë§ˆíŠ¸í°ì˜ ì‚¬ì§„ì„ ì›¹ìœ¼ë¡œ ì „ë‹¬í•˜ê¸°

ì´ì œ ì•±ì—ì„œ ì›¹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë³´ë‚´ë³´ë„ë¡ í•©ì‹œë‹¤. ë¦¬ë·° ê¸°ëŠ¥ì˜ ì›¹ë·°ë¥¼ ê°œë°œí•  ë•Œ, í•¸ë“œí°ì˜ ì‚¬ì§„ì„ ì›¹ë·°ì—ì„œ ì²¨ë¶€í•˜ëŠ” ìƒí™©ì„ ìƒê°í•´ë´…ì‹œë‹¤. ì´ë¯¸ì§€ë¥¼ ìš”ì²­í•˜ê³  ë°”ë¡œ ì‚¬ìš©í•˜ë©´ ì¢‹ê² ì§€ë§Œ, ì›¹-ì•± í†µì‹ ì€ ë‹¨ë°©í–¥ êµ¬ì¡°ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ë‹¤ìŒê³¼ ê°™ì€ ì ˆì°¨ë¥¼ ê±°ì³ì•¼í•©ë‹ˆë‹¤.

### ë‹¨ë°©í–¥ ë©”ì‹œì§€ êµ¬í˜„í•˜ëŠ” ìš”ì²­-ì‘ë‹µ êµ¬ì¡°

1ï¸âƒ£ **ì•±**: ì‚¬ì§„ì„ ì„ íƒí•˜ë©´ ì„ íƒí•œ ì‚¬ì§„ì„ ì›¹ìœ¼ë¡œ ë³´ë‚´ë„ë¡ í•˜ëŠ” "REQUEST_PICTURE" ë¡œì§ ë“±ë¡

2ï¸âƒ£ **ì›¹ â†’ ì•±**: type === "REQUEST_PICTURE" ë©”ì‹œì§€ë¥¼ ì „ë‹¬í•˜ì—¬ ì‚¬ì§„ì„ ìš”ì²­

3ï¸âƒ£ **ì•±**: ë©”ì‹œì§€ë¥¼ ë°›ìœ¼ë©´ ì‚¬ì§„ ì„ íƒê¸°(ê°¤ëŸ¬ë¦¬/ì¹´ë©”ë¼)ë¥¼ ì—´ì–´ ì‚¬ìš©ìê°€ ì‚¬ì§„ì„ ì„ íƒ

4ï¸âƒ£ **ì›¹**: ì•±ì—ì„œ ë³´ë‚´ëŠ” ë©”ì‹œì§€ë¥¼ ë°›ì„ ìˆ˜ ìˆë„ë¡ event listenerë¥¼ ë“±ë¡í•´ë‘ê³  ëŒ€ê¸°

5ï¸âƒ£ **ì•± â†’ ì›¹**: ì„ íƒëœ ì‚¬ì§„ì„ base64 ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ì—¬ ì›¹ìœ¼ë¡œ ì „ë‹¬

6ï¸âƒ£ **ì›¹**: ë°›ì€ ë©”ì‹œì§€ì˜ type === "PICTURE"ì¼ ê²½ìš° base64 â†’ Blobìœ¼ë¡œ ë³€í™˜í•˜ì—¬ ë¦¬ë·° ì²¨ë¶€ì— ì‚¬ìš©

```jsx
// ë¦¬ì•¡íŠ¸(ì›¹)
export default function ReviewForm() {
  const handleFileSelect = () => { // 2ï¸âƒ£
    window.ReactNativeWebView.postMessage(JSON.stringify({ type: "REQUEST_PICTURE" }));
  }

  React.useEffect(() => {
    const listener = (event: MessageEvent) => {
        const data = JSON.parse(event.data);
        if (data.type === "PICTURE") { // 6ï¸âƒ£
          console.log("ğŸ“· ì´ë¯¸ì§€ ë„ì°©:", data.payload); // base64 string
          // base64 ë¬¸ìì—´ë¡œ ì „ë‹¬ë°›ì€ ë°ì´í„°ë¥¼ Blob ê°ì²´ë¡œ ë³€í™˜í•˜ì—¬ FormData ë¡œ ì—…ë¡œë“œ
        }
    };
		// ì•±ì˜ ë©”ì‹œì§€ë¥¼ ë°›ê¸° ìœ„í•œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡ 4ï¸âƒ£
    window.addEventListener("message", listener);
    return () => window.removeEventListener("message", listener);
  }, []);
```

```jsx
// ë¦¬ì•¡íŠ¸ ë„¤ì´í‹°ë¸Œ(ì•±)
export default function ReviewWebView() {
  const webviewRef = useRef(null);

  const handleMessage = async (event) => {
    const { data } = event.nativeEvent;
    const message = JSON.parse(data);
    if (message.type === "REQUEST_PICTURE") { // 3ï¸âƒ£
      const result = await ImagePicker.launchImageLibraryAsync({ // 5ï¸âƒ£
        base64: true,
        mediaTypes: ImagePicker.MediaTypeOptions.Images,
      });

      const base64 = result.base64;
      // ì›¹ë·°ì— base64 ì´ë¯¸ì§€ ì „ë‹¬
      webviewRef.current?.postMessage(JSON.stringify({
        type: "PICTURE_DATA",
        payload: `data:image/jpeg;base64,${base64}`
      }));
    }
  };
```

## ì›¹-ì•± ì¸í„°í˜ì´ìŠ¤ ê³¼ì • ì´ ì •ë¦¬

ì–´ëŠì •ë„ ì›¹-ì•± ì¸í„°í˜ì´ìŠ¤ì— ì¹œìˆ™í•´ì§€ì…¨ë‚˜ìš”? ì•„ì§ë„ ì¡°ê¸ˆ ì–´ë µë‹¤ë©´ ë”± 2ê°€ì§€ë§Œ ê¸°ì–µí•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.

- ì›¹-ì•± ì¸í„°í˜ì´ìŠ¤ëŠ” ì§ì ‘ ìš”ì²­-ì‘ë‹µ êµ¬ì¡°ë¥¼ êµ¬í˜„í•´ì£¼ì–´ì•¼ í•œë‹¤. ì›¹ì€ ì•±ì—ì„œ, ì•±ì€ ì›¹ì—ì„œ ë©”ì‹œì§€ì— ë§ëŠ” ì´ë²¤íŠ¸ë¥¼ ì§ì ‘ ì„¤ê³„í•´ì•¼ í•œë‹¤.
- ì›¹-ì•± ì¸í„°í˜ì´ìŠ¤ëŠ” ë‹¨ë°©í–¥ í†µì‹  êµ¬ì¡°ë¥¼ ê°€ì§€ë¯€ë¡œ, ì‘ë‹µê°’ì„ ë‹¤ë¤„ì•¼ í•  ê²½ìš° ìš”ì²­ë°›ëŠ” ê³³ì—ì„œ ì‘ë‹µê°’ì„ ë³´ë‚´ì£¼ë„ë¡ í•œë²ˆ ë” êµ¬í˜„í•´ì•¼ í•œë‹¤.

ì´ì œ ì›¹-ì•± ì¸í„°í˜ì´ìŠ¤ì— ëŒ€í•´ ì–´ëŠì •ë„ ì¹œìˆ™í•´ì§€ì…¨ë‹¤ë©´, ë³´ì¼ëŸ¬ í”Œë ˆì´íŠ¸ë¥¼ ì°¸ê³ í•˜ì—¬ ì§ì ‘ êµ¬í˜„í•´ë³´ì‹œê¸° ë°”ëë‹ˆë‹¤. ì´í›„ì—ëŠ” ê°œë°œ í™˜ê²½ì„ ìœ„í•œ ì•± ì´ë²¤íŠ¸ ëª¨í‚¹ì´ë‚˜, ì•±ì˜ ë²„ì „ í˜¹ì€ OSë¥¼ ê³ ë ¤í•œ êµ¬ì¡° ë“±ë„ êµ¬í˜„í•´ë³´ì…”ë„ ì¢‹ìŠµë‹ˆë‹¤!

ã…¤

**ì°¸ê³ í•˜ê¸° ì¢‹ì€ github repository**

- [react-native-webview ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ì˜ˆì‹œì½”ë“œ github](https://github.com/react-native-webview/react-native-webview/blob/master/example/examples/MultiMessaging.tsx)
- [mockingì´ í¬í•¨ëœ webview-bridge ë¼ì´ë¸ŒëŸ¬ë¦¬ github](https://github.com/gronxb/webview-bridge/blob/main/packages/web/src/linkBridge.ts)
- [ê°„ë‹¨í•œ webviewë¥¼ ì‹¤í–‰í•´ë³¼ ìˆ˜ ìˆëŠ” github](https://github.com/te-ing/webview-playround)
